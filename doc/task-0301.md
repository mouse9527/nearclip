# Task 0301: 实现文本输入界面

## 任务描述

实现文本输入界面，提供用户友好的文本输入体验。

## 正交性分析

- **UI组件**: 专注于界面显示
- **输入处理**: 文本输入和编辑
- **格式化**: 文本格式化和验证
- **用户体验**: 交互优化

## 技术实现

### 核心组件
```kotlin
// android/app/src/main/java/com/nearclip/ui/TextInputFragment.kt
@Composable
fun TextInputScreen(
    onSendText: (String, List<String>) -> Unit,
    onBack: () -> Unit
) {
    var text by remember { mutableStateOf("") }
    var selectedDevices by remember { mutableStateOf<List<String>>(emptyList()) }
    var isSending by remember { mutableStateOf(false) }
    
    Column(
        modifier = Modifier
            .fillMaxSize()
            .padding(16.dp)
    ) {
        // 文本输入区域
        OutlinedTextField(
            value = text,
            onValueChange = { text = it },
            modifier = Modifier
                .fillMaxWidth()
                .weight(1f),
            label = { Text("输入要发送的文本") },
            maxLines = 10
        )
        
        // 设备选择区域
        DeviceSelector(
            selectedDevices = selectedDevices,
            onDevicesSelected = { selectedDevices = it }
        )
        
        // 发送按钮
        Button(
            onClick = {
                isSending = true
                onSendText(text, selectedDevices)
            },
            enabled = text.isNotBlank() && selectedDevices.isNotEmpty() && !isSending,
            modifier = Modifier.fillMaxWidth()
        ) {
            if (isSending) {
                CircularProgressIndicator()
            } else {
                Text("发送")
            }
        }
    }
}
```

## 验收标准

- [ ] 文本输入功能完整
- [ ] 界面响应灵敏
- [ ] 输入验证完善
- [ ] 用户体验良好
- [ ] 支持长文本输入
- [ ] 错误处理友好